# ビジネスルール（BR）作成の指示テンプレート

- 以下のルールに従って、**ビジネスルール（BR）** を 1 ルール分作成してください。出力は **Markdown** とします。
- 対象は 1 つのビジネスルール（`br-xxx-xxxx`）です。**業務レベルの判断/計算**に限定してください。
  - 禁止: 物理テーブル名・物理項目名・SQL全文、画面操作手順、実装クラス/関数名などの実装詳細
- 本文構成は、次の見出し（日本語）をこの順序で必ず出力してください：
  > 1. 概要
  > 2. 入力
  > 3. ルール（判定/計算）
  > 4. 出力
  > 5. 例外 / 異常系
  > 6. メモ / 将来課題
- 先頭に YAML Frontmatter を付与し、以下の形式で記述してください（不要な項目は省略可だが、`id` / `type` / `title` / `status` は必須）：

  ```yaml
  ---
  id: br-<英小文字とハイフンで構成したID> # 例: br-low-stock-judgment
  type: rule
  title: <ビジネスルール名> # 例: 在庫不足判定
  status: draft # draft / ready / deprecated のいずれか
  owners: []
  depends_on: []
  implements: []
  tests: []
  supersedes: []
  ---
  ```

- **入力** は概念レベルの業務データで記述し、業務データ辞書にあるエンティティ・論理名を想定して書いてください。
- **ルール（判定/計算）** は、式と意味を併記し、日本語の条件句で表現してください。必要であれば TypeScript 風擬似コードを補助的に使用して構いません。
- **出力** では、このルールの結果として得られるフラグ・数値・カテゴリを明確に記述してください。
- **例外 / 異常系** では、主要な 2〜4 ケースを挙げ、挙動（スキップ/再試行/通知等）を記載してください。
- 全体を **業務用語で統一** し、略語を使う場合は、業務用語集に存在する一般的な略語のみとし、意味が推測しづらい略語や内部コードは使用しないでください。
