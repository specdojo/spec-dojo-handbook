# 移行計画 概要 作成の指示テンプレート

以下のルールに従って、**移行計画-概要（`mip-overview`）** を 1 ファイル作成してください。出力は **Markdown** とします。

- `mip-overview` は移行全体を **1冊で説明できる状態** にするための共通ルール（SSOT）です。
- 合意・実行・判断の基準点となる情報を最小限で整理してください。
- 分単位の手順や詳細Runbookは書かず、骨格と判断基準に集中してください。

## 事前に与えられる情報（入力）

次の情報が与えられている前提で、それに整合する `mip-overview` を生成してください（不明な場合は「未確定」として明記してよい）。

- 対象システム/プロダクトの概要
- 移行の背景/目的
- 移行方式（例: 一斉/並行）と期間の前提
- 移行対象のスコープ（業務/機能/I/F/データ種別/非対象）
- 成功条件・受入基準（停止許容時間/許容誤差/完了定義）
- 体制・役割（GO/NO-GO判断主体を含む）
- 移行リスクと対策
- 移行後のハイパーケア方針

## 出力フォーマット（必須）

### YAML Frontmatter（必須）

先頭に YAML Frontmatter を付与し、以下の形式で記述してください（`id` / `type` / `title` / `status` は必須、`type` は `migration` 固定）。

```yaml
---
id: mip-overview
type: migration
title: 移行計画: 概要（<システム名>）
status: draft # draft / ready / deprecated
based_on: []
supersedes: []
---
```

- `based_on` には移行判断に直接利用した成果物のみを列挙してください（例: `br-*` / `nfr-*` / `issue-*`）。

### 本文の見出し（必須・順序固定）

本文は次の見出し（日本語）をこの順序で必ず含めてください。

1. 移行の背景/目的
2. 前提・制約
3. 移行方式と期間（方式/フェーズ/タイムライン）
4. 移行対象一覧（スコープ/非対象）
5. 成功条件・受入基準
6. 体制・役割（GO判断含む）
7. 移行リスクと対策
8. カットオーバー概要（当日タイムライン/判定点/ロールバック方針）
9. 移行後ハイパーケア方針

## 記述ルール（重要）

### スコープ（書く / 書かない）

- 書く: 合意・判断に必要な最小情報（スコープ/成功条件/体制/リスク/カットオーバー骨格）
- 書かない: 分単位の作業チェックリスト、テーブル/項目レベルの変換ロジック、詳細手順

### 合意可能性

- 曖昧表現（例: 「十分」「適切」「問題ない」）は禁止し、**合否判定できる条件**として記述する。
- GO/NO-GO の判断基準と判定主体を必ず明記する。

## 各セクションの書き方

### 1. 移行の背景/目的

- なぜ移行が必要かを 1〜3 行で明確にする。
- 対象の範囲と期待する成果を簡潔に示す。

### 2. 前提・制約

- 前提（対象環境、停止可能時間帯、使用可能なリソース）を列挙する。
- 制約（法務/セキュリティ/契約/外部依存）を明記する。

### 3. 移行方式と期間（方式/フェーズ/タイムライン）

- 移行方式（例: 一斉/並行）を明記する。
- 主要フェーズと期間を時系列で示す。

推奨フォーマット（表）:

| フェーズ | 期間 | 目的 | 成果物/完了条件 |
| -------- | ---- | ---- | --------------- |

### 4. 移行対象一覧（スコープ/非対象）

- スコープを **一覧表** で示す。
- 観点は **業務/機能/I/F/データ種別/非対象** を必ず含める。
- 詳細な変換ロジックは下位ドキュメントに委譲する。

推奨フォーマット（表）:

| 区分 | 対象 | 補足 |
| ---- | ---- | ---- |

### 5. 成功条件・受入基準

- 停止許容時間、許容誤差、完了定義を明記する。
- 合否判断に使う測定/証跡の種類と所在を示す。
- 測定対象（データ種別/期間/業務）のうち最低2つは必ず書く。
- GO/NO-GO の最低限条件を箇条書きで明文化する。

推奨フォーマット（表）:

| 項目 | 基準 | 測定対象（対象データ/期間/業務） | 測定/証跡 | 判定者 | 失敗時の扱い（ロールバック/延期/代替手順） |
| ---- | ---- | -------------------------------- | --------- | ------ | ------------------------------------------ |

### 6. 体制・役割（GO判断含む）

- 体制/責任分担を示す（責任者/実行者/承認者）。
- GO/NO-GO の判断主体と判断基準を明記する。
- 連絡系統（エスカレーション先）を最小限で示す。

推奨フォーマット（表）:

| 役割 | 担当 | 責務 | 連絡/判断 |
| ---- | ---- | ---- | --------- |

### 7. 移行リスクと対策

- リスク、影響、対策、検知方法を整理する。
- 重大リスクは「誰がいつ判断するか」を落とさない。

推奨フォーマット（表）:

| リスク | 影響 | 対策 | 検知/判断 |
| ------ | ---- | ---- | --------- |

### 8. カットオーバー概要（当日タイムライン/判定点/ロールバック方針）

- 当日の流れを **骨格（マイルストーン）** で示す。
- 判定点（GO1/GO2...）と失敗時の扱い（ロールバック/延期/代替手順）を明記する。
- ロールバックの発動条件と復旧方針を明記する。
- 詳細Runbook（`cop-*`）がある場合はリンクする。

推奨フォーマット（表）:

| 時刻（相対） | イベント | 完了条件 | 判定点 |
| ------------ | -------- | -------- | ------ |

### 9. 移行後ハイパーケア方針

- 監視期間、体制、対応範囲を明記する。
- 問い合わせ窓口とSLA目安があれば記載する。
- 旧システムの扱い（参照期間/停止/アーカイブ）を方針レベルで書く。

推奨フォーマット（表）:

| 項目 | 方針 |
| ---- | ---- |

## 最終チェック（自己検査）

- `id: mip-overview` / `type: migration` / `status` が設定されている
- 見出しが指定順序で揃っている（欠落なし）
- スコープ（対象/非対象）が明確になっている
- 成功条件・受入基準に停止許容時間/許容誤差/完了定義が含まれている
- GO/NO-GO 判断主体と基準が記載されている
