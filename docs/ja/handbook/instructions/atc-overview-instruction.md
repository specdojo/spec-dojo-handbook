# 受入テストカタログ 概要 作成の指示テンプレート

以下のルールに従って、**受入テストカタログ-概要（`atc-overview`）** を 1 ファイル作成してください。出力は **Markdown** とします。

- `atc-overview` は受入テストの **共通ルール（SSOT）** を定義します（考え方・共通方針・共通定義）。
- 個別の受入観点・条件・ケースは **`atc-<term>` に集約**し、詳細は **実施記録／レポート／証跡** に寄せます。
- 記述は **合意形成（顧客/PO/QA）に耐える** ことを優先し、長文化を避けてください（方針は箇条書き中心）。
- 「対象外」や「合否判定の原則」を明示し、受入テストの責任境界（何をもって受け入れるか/受け入れないか）を固定します。

## 事前に与えられる情報（入力）

次の情報が与えられている前提で、それに整合する `atc-overview` を生成してください（不明な場合は「未確定」として明記してよい）。

- 対象システム/プロダクトの概要
- 上位方針: `tsp-overview`
- 関連する仕様/ルール（必要に応じて）: `bac-*` / `br-*` / `nfr-*` / `ac-*`
- 受入テスト対象の候補（対象単位の切り方の案）
- 環境前提（受入環境/代表構成、外部依存の前提）
- 実施記録/レポート/ログ での証跡参照先

## 出力フォーマット（必須）

### YAML Frontmatter（必須）

先頭に YAML Frontmatter を付与し、以下の形式で記述してください（`id` / `type` / `title` / `status` は必須、`type` は `test` 固定）。

```yaml
---
id: atc-overview
type: test
title: 受入テストカタログ: 概要（<システム名>）
status: draft # draft / ready / deprecated
based_on:
 - tsp-overview
supersedes: []
---
```

- `based_on` には **必ず** `tsp-overview` を含めてください（追跡の起点）。
- `bac-*` / `br-*` / `nfr-*` / `ac-*` は、共通方針の判断に **直接利用したものだけ**を列挙してください。

### 本文の見出し（必須・順序固定）

本文は次の見出し（日本語）をこの順序で必ず含めてください。

1. 本ドキュメントの目的と適用対象
2. 受入テスト対象の括り方と分割基準
3. 対象外・除外理由（共通）
4. 受入観点の立て方（共通）
5. 条件の立て方（共通）
6. 受入テストの環境/データ/外部依存の扱い（共通）
7. ケース表の共通カラム
8. メモ / 将来課題

## 記述ルール（重要）

### スコープ（書く / 書かない）

- 書く: 受入テストの共通方針、対象単位、観点/条件の立て方、環境前提、合格基準、証跡方針
- 書かない: 個別ケースの列挙、細かい操作列挙、個別 `atc-<term>` の内容

### 追跡可能性（TSP からの派生）

- `atc-overview` は `tsp-overview` を根拠にします。
- 追跡は Frontmatter の `based_on` で担保してください。

### 代表ケース/具体値の扱い（ドキュメント最小化）

- 代表性とリスクの考え方（重要分岐、重大リスク、代表経路）を方針として書いてよい。
- ただし `atc-overview` では **ケースの具体的な列挙はしない**。
- 具体値・実施結果は `atc-<term>` と実施記録/レポートへ委譲する。

## 各セクションの書き方

### 1. 本ドキュメントの目的と適用対象

- `atc-overview` の目的と適用対象を明確に書く。
- 成果物の位置づけ（`atc-overview` / `atc-<term>` / 実施記録/レポート）の役割を明示する。
- 本書が扱う粒度（受入基準・共通ルールまで）を明記する。

### 2. 受入テスト対象の括り方と分割基準

- `atc-<term>` の `<term>` をどう切るかを定義する。
- 分割基準（受入判断の単位、業務成果の完了条件、関係者合意、リスク境界）を明記する。
- 過分割と肥大化の抑制基準を具体化する。

### 3. 対象外・除外理由（共通）

- 「対象外」「除外理由」「代替レベル/代替手段」「例外（ATで扱う条件）」の形式で示す。
- 代替レベル/代替手段は **必ず** 記載する。
- 例外は乱用せず、判断基準を明記する。

### 4. 受入観点の立て方（共通）

- 観点の型（業務成果、重要分岐、契約/約束、運用可能性、AT範囲の非機能）を示す。
- 命名規則（名詞 + 成立/保証/整合）と粒度基準を示す。
- 受入判断に結びつかない抽象観点は作らない。

### 5. 条件の立て方（共通）

- 条件を「入力」「状態」「環境」「経路」に分解する前提を書く。
- 組合せを増やし過ぎないルール（代表→重要分岐→重大リスク）を示す。

### 6. 受入テストの環境/データ/外部依存の扱い（共通）

- 受入環境と代表構成、実施期間や版の紐づけを明記する。
- 受入用データの準備・初期化・後始末方針を明記する。
- 外部依存はsandbox/疑似/検証用接続を前提にし、検証方法を定める。
- 証跡の最小セット（版/日時/結果/スクショ/ログ相関ID等）を明記する。

### 7. ケース表の共通カラム

- `atc-<term>` における共通カラムを **具体的に** 明記する。
- 必須カラムと推奨カラムを区別し、表の1行=1受入シナリオの原則を明記する。
- **必須カラム**（順序固定）:
  - `case_id`（対象別に一意。`<level>-<term>-<perspective_key>-<nnn>` を推奨、`level` は `at`）
  - `条件`（入力/状態/環境/経路の要点。必要な要素のみ記載）
  - `手順（最小）`（高位の最小手順。クリック列挙禁止）
  - `期待値`（判定可能な合格条件。観測点を含める）
- **推奨カラム**（運用必須）:
  - `観測点（アサーション）`
  - `環境/依存`
  - `トレース`
  - `優先度`
  - `実施形態`
  - `証跡`

### 8. メモ / 将来課題

- 未確定事項や将来の改善点を箇条書きで記載する。
- 運用ルールとして必須になったら本文へ昇格させる方針を明記してよい。

## 最終チェック（自己検査）

- `id: atc-overview` / `type: test` / `status` が設定されている
- `based_on` に `tsp-overview` が入っている
- 見出しが指定順序で揃っている（欠落なし）
- 個別ケースの列挙がない（`atc-<term>` に委譲できている）
- 対象外・除外理由に代替レベル/手段が書けている
