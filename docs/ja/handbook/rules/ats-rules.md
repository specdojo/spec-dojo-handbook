# 受入テスト仕様（ATS）作成ルール

本ドキュメントは、
**業務受入条件（BAC）および総合テストの結果を前提に、
「このシステムを業務として受け入れてよいか」を判断するための仕様**
を統一形式で記述する標準ルールです。

ATS は、

- 「業務として成立するか」
- 「運用に引き渡して問題ないか」

を **業務視点で合否判定できる状態にする** ことを目的とします。

---

## 0. 位置づけ（必読）

```plaintext
TSP（テスト戦略・方針）
 └ ATS（受入テスト仕様）           ← 本書
    └ ATS-D（受入テスト仕様・個別）
       └ ATD（受入テスト設計）
          └ ATD-D（受入テスト設計・個別）
             └ 受入テスト実施・結果
```

| 観点 | 総合テスト     | 受入テスト                 |
| ---- | -------------- | -------------------------- |
| 主体 | 開発・テスト側 | **業務側（受入主体）**     |
| 視点 | システム品質   | **業務成立・引き渡し可否** |
| 基準 | STS / NFR      | **BAC / 業務合意**         |

---

## 1. 全体方針

- ATS は **受入テスト全体の仕様**を定義します。
- ATS は **業務受入条件（BAC）をテストとして再解釈した文書**です。
- ATS では次を明確にします：
  - 受入の対象範囲
  - 受入判断の基準
  - 合否の責任範囲

- 技術的な観点や詳細ケースは **設計（ATD）以下に委譲**します。

---

## 2. 対象範囲

ATS の対象は以下です。

- 業務フロー・業務シナリオ
- 運用開始に必要な機能・情報・操作
- 業務として許容できる品質・制約

※ 単体・結合・総合テストの代替ではありません。

---

## 3. ファイル命名・ID規則

### ファイル名（推奨）

```sh
010-受入テスト仕様.md
```

### ID ルール

| 項目   | ルール                     |
| ------ | -------------------------- |
| prefix | `ats-`                     |
| id     | `ats-main`, `ats-overview` |

※ 原則 **1ファイル = 受入テスト仕様（全体）**

---

## 4. 推奨 Frontmatter 項目

| 項目       | 説明                         | 必須     |
| ---------- | ---------------------------- | -------- |
| id         | ATS ID（`ats-*`）            | ○        |
| type       | `test` 固定                  | ○        |
| title      | 受入テスト仕様               | ○        |
| status     | `draft / ready / deprecated` | ○        |
| owners     | 受入主体（業務側）           | 任意     |
| tags       | `acceptance-test` 等         | 任意     |
| depends_on | `bac-*`, `sts-*`, `std-*`    | **必須** |
| tests      | 下位の ATS-D / ATD           | 任意     |
| supersedes | 置換関係                     | 任意     |

---

## 5. 本文構成（標準テンプレ）

ATS は以下の見出しを **必ずこの順序**で記述します。

1. 概要
2. 受入テストの目的
3. 受入対象範囲
4. 受入判断の基準
5. 受入テストの観点
6. 受入の前提条件
7. 合否判定と責任
8. 対象外
9. メモ / 将来課題

---

## 6. 記述ガイド詳細

### 6.1 概要

- 本 ATS が **何を判断するための受入テストか** を簡潔に記述します。

例：

> 本仕様は、本システムを業務運用に引き渡してよいかを判断するための受入テスト仕様を定義する。

---

### 6.2 受入テストの目的（必須）

- 業務視点での目的を明確にします。

例：

- 業務が想定通りに回ることを確認する
- 運用開始に必要な情報・機能が揃っていることを確認する

---

### 6.3 受入対象範囲（必須）

- 業務として受け入れる対象を列挙します。

例：

- 主要業務フロー
- 日常運用で使用する画面・帳票
- 運用担当者が利用する機能

---

### 6.4 受入判断の基準（必須）

- 合否判断の**基準そのもの**を定義します。
- BAC との関係を明示します。

例：

- 全ての業務受入条件（BAC）が満たされている
- 業務に支障をきたす不具合が存在しない

---

### 6.5 受入テストの観点（必須）

受入テストで確認すべき観点を整理します。

| 観点カテゴリ | 観点                           |
| ------------ | ------------------------------ |
| 業務         | 業務フローが中断なく実施できる |
| 操作         | 業務担当者が迷わず操作できる   |
| 情報         | 必要な情報が参照・出力できる   |
| 運用         | 再処理・問い合わせに対応できる |

---

### 6.6 受入の前提条件（必須）

- 受入テストを実施できる前提条件を記述します。

例：

- 総合テストが完了している
- 業務マスタが投入済みである
- 運用手順書が準備されている

---

### 6.7 合否判定と責任（必須）

- 合否の判断主体と判断方法を明確にします。

例：

- 合否判定は業務オーナーが行う
- 判定結果は受入結果として記録する

---

### 6.8 対象外

- 受入判断の対象外とする事項

例：

- 外部システムの SLA
- 想定外の業務手順

---

### 6.9 メモ / 将来課題

- 将来の受入条件追加
- 未確定事項

---

## 7. 禁止事項

| 禁止事項               | 理由             |
| ---------------------- | ---------------- |
| 技術的な実装詳細       | 受入視点から逸脱 |
| 個別テストケースの列挙 | 設計レベルの責務 |
| SQL・API詳細           | 業務判断に不要   |
| UI操作の逐語列挙       | 変更に弱い       |

---

## 8. サンプル（最小）

```yaml
---
id: ats-main
type: test
title: 受入テスト仕様
status: draft
depends_on:
  - bac-main
  - sts-main
---
```

---

## 9. 生成AI向け指示テンプレート

> - 以下のルールに従って **受入テスト仕様（ATS）** を 1 ファイル作成してください。
> - 業務受入条件（BAC）を前提に、受入判断の基準・観点を定義してください。
> - 技術的な詳細やテストケースは記載せず、業務視点で記述してください。
> - 合否判定ができる表現（条件・観測点）を用いてください。
