# インフラ構成図（IFD）作成の指示テンプレート

- Mermaid `flowchart` で IFD を作成してください。先頭は必ず `flowchart LR`。
- subgraph は最大3階層（Lv1: 実行環境 / Lv2: ネットワーク / Lv3: 論理ゾーン）。
- まず境界（subgraph）を定義し、その中にノードを配置してください。
- ノードは必ず `id["Role Name"]` 形式で、表示名は役割名のみとしてください。
- （任意）絵文字は表示名の先頭に **1個まで** 付けてよいが、IDには付けないでください。絵文字だけに頼らず、必ず役割名テキストも併記してください。
- （任意）絵文字を付ける場合、次の推奨セットから選んで統一してください（例：`lb["🧭 Load Balancer"]`）：
  - 境界（subgraph）: `☁️ Cloud Environment` / `🛡️ VPC` / `🌍 Public Zone` / `🔒 Private Zone`
  - 外部: `👤 User` / `🌐 Internet`
  - Compute: `🧭 Load Balancer` / `🖥️ Web App` / `⚙️ API Server`
  - Data: `⚡ Cache` / `🗄️ Relational Database` / `🪣 Object Storage` / `📨 Message Queue`
- （任意）色を付ける場合は、**境界単位** または **役割の大分類（boundary / compute / data）** 単位で付けてください。
- 色指定は `classDef` のみ使用し、`style` は使用しないでください。ノード単位でバラバラな色付けはしないでください。
- （任意）色付けする場合、以下の `classDef` を図の先頭付近にそのまま記述してください：
  - `classDef boundary fill:#f5f7fa,stroke:#999,color:#000`
  - `classDef compute fill:#e3f2fd,stroke:#1e88e5,color:#000`
  - `classDef data fill:#e8f5e9,stroke:#43a047,color:#000`
- 製品名・略語（ALB / EC2 / RDS / Cloud Run / Redis / Kafka 等）は使用しないでください。
- 🗄️ Database は `db[("...")]`、🪣 Storage は `storage("...")`、📨 Queue/Topic は `queue[["..."]]` を使用してください。
- ⚡ Cache は必要な場合のみノードとして追加してください。
- 矢印は原則片方向、双方向は2本で表現してください。
- HTTPS / 443 / CIDR などの物理情報は記載しないでください。
- 出力は ` ```mermaid ... ``` ` のみとしてください。
